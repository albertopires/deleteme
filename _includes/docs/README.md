# Multi-homed File Transfer Protocol #

MhFtp is a tool to allow file transfer over a multi-homed host, that is, a host with more than one Internet link, using one or more links, summing up of all bandwidths.

## How it works ##
Basically it breaks a file in a number of parts (Chunks), open one connection per link, and start transferring each chunk separately. All information about each chunk, like its size, md5sum, status (DOWNLOADING, PENDING, ERROR) and complete file md5, are stored in a metadata file, using a .mdata extension, for example, if you download a file named **archive.tar**, a **archive.tar.mdata** will be stored in your current directory.

This metadafile will be generated by the server and sent to the client on first time transfer and will be stored on the client side. Later this .mdata file may be used to resume transmission, check for chunk errors, and retransmit single  failed chunks.

As of this version, the chunk size is fixed in 1MB, but very soon it will be configurable. Although the size of 1MB suits a good range of file sizes, for larger file the metadata file me became too big.

## Before you ask ##
It could be a **FAQ**, but so far there are not frequently asked questions, or any asked question for that matter, but, I few things you should know:

* Only the download option is implemented.
* Yes, I'll implement to upload, meanwhile you can already use it for download.
* To take advantage of n links, the server must be running on the multi-homed host.
* Your multi-homed must be configured properly. I'm talking about symmetric routing. If you don't know what it is, take a look at this [howto](http://www.microhowto.info/howto/ensure_symmetric_routing_on_a_server_with_multiple_default_gateways.html)

## Compiling ##

As of this moment, this version is tested on 64bit Linux and requires:

* GNU g++ 4.8
* libssl-dev 1.0.1f
* Electric Fence (optional)

It's possible to compile MhFtp on older version of g++, although it may necessary to comment the compile options **-pedantic** and **-std=c++11** on your Makefile.

``CFLAGS=-Wall -g #-pedantic -std=c++11``

and then, just run make.

## Contributing ##
For now it's just me, so I'll try to keep it simple. Basically **master** branch
will have the latest (hopefully stable) version, and there will be a
 **next** branch where I'll work on upcoming features.
For more information take a look at [Contributing](Documentation/CONTRIB.md).

So, fork it and have fun.
